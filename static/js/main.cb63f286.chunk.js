(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports={url_container:"ConnectionBox_url_container__ZiqWH",url_input:"ConnectionBox_url_input__3FnLF",url_btn:"ConnectionBox_url_btn__1a2zb",msg_container:"ConnectionBox_msg_container__1U6Fe",msg_input:"ConnectionBox_msg_input__38q8i",msg_btn:"ConnectionBox_msg_btn__3H_l-"}},36:function(e,t,n){e.exports=n(58)},47:function(e,t,n){e.exports={counter:"MessageCounter_counter__2HVpD"}},48:function(e,t,n){e.exports={header_text:"Header_header_text__H1KH5"}},56:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(28),r=n.n(o),l=n(70),s=n(8),i=Object(a.createContext)(),u=function(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2),o=n[0],r=n[1],l=Object(a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r(function(t){return t+e})});return c.a.createElement(i.Provider,{value:{counter:o,addToCounter:l}},e.children)},m=function(){return Object(a.useContext)(i)},f=Object(a.createContext)(),g=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),o=n[0],r=n[1],l=Object(a.useCallback)(function(e){e&&r(e)});return c.a.createElement(f.Provider,{value:{lastMessage:o,changeLastMessage:l}},e.children)},b=function(){return Object(a.useContext)(f)},d=JSON.stringify({event:"bts:subscribe",data:{channel:"order_book_btcusd"}}),_=Object(a.createContext)(),p=function(e){var t=Object(a.useState)("off"),n=Object(s.a)(t,2),o=n[0],r=n[1],l=Object(a.useState)(""),i=Object(s.a)(l,2),u=i[0],m=i[1],f=Object(a.useState)(null),g=Object(s.a)(f,2),b=g[0],d=g[1],p=Object(a.useCallback)(function(e){e&&m(e)}),x=Object(a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d(e)}),h=Object(a.useCallback)(function(e){switch(e){case"on":r("on");break;case"off":r("off");break;case"connecting":r("connecting");break;case"closing":r("closing")}});return c.a.createElement(_.Provider,{value:{connectionStatus:o,url:u,wsMsg:b,changeUrl:p,setSendMessage:x,changeWsStatus:h}},e.children)},x=function(){return Object(a.useContext)(_)},h=function(e){var t=e.children;return c.a.createElement(u,null,c.a.createElement(g,null,c.a.createElement(p,null,t)))},C=n(59),E=n(73),j=Object(C.a)({palette:{primary:{main:"#e0e0e0",dark:"#333",border:"#c0c0c0",textDark:"#333",textLight:"#f0f0f0"}}}),v=function(e){return c.a.createElement(E.a,{theme:j},e.children)},O={alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",bgcolor:"primary.main",border:1,borderColor:"primary.border",padding:"0!important",position:"absolute",left:0,right:0,marginLeft:"auto",marginRight:"auto",height:"100%",overflow:"hidden"},k=function(e){var t=x(),n=t.connectionStatus,o=t.changeWsStatus,r=t.url,l=t.wsMsg,i=t.setSendMessage,u=b().changeLastMessage,f=m().addToCounter,g=Object(a.useState)(null),d=Object(s.a)(g,2),_=d[0],p=d[1];Object(a.useEffect)(function(){switch(n){case"connecting":h();break;case"closing":C()}},[n]),Object(a.useEffect)(function(){console.log(" -- -- WebSocketComponent",n,l),"on"===n&&"string"===typeof l&&_.send(l)},[l]);var h=Object(a.useCallback)(function(){var e=new WebSocket(r);p(e),e.onerror=function(e){console.log("socket error",e),C()},e.onopen=function(){console.log("socket has opened"),o("on")},e.onmessage=function(e){var t=e.data;console.log("socket onmessage",t),u(t),f()}}),C=Object(a.useCallback)(function(){_&&(console.log("socket is closing"),_.close(),o("off"),p(null),i(),console.log("socket has closed"))});return c.a.createElement(c.a.Fragment,null,e.children)},S=n(15),w=n.n(S),y={display:"flex",flexDirection:"column",bgcolor:"primary.main"},M=function(){var e=x(),t=e.connectionStatus,n=e.changeWsStatus,a=e.changeUrl,o=e.setSendMessage,r="wss://ws.bitstamp.net",s=d;return c.a.createElement(l.a,{width:"100%",sx:y},c.a.createElement("div",{className:w.a.url_container},c.a.createElement("input",{className:w.a.url_input,defaultValue:"wss://ws.bitstamp.net",type:"text",onChange:function(e){return r=e.target.value}}),c.a.createElement("button",{className:w.a.url_btn,onClick:function(){"off"===t?(a(r),n("connecting")):"on"===t&&n("closing")},disabled:"on"!==t&&"off"!==t},"on"===t?"Stop socket":"off"===t?"Open socket":"pending")),c.a.createElement("div",{className:w.a.msg_container},c.a.createElement("label",null,"WS status: ",t),c.a.createElement("textarea",{className:w.a.msg_input,type:"textarea",defaultValue:d,onChange:function(e){return s=e.target.value}}),c.a.createElement("button",{className:w.a.msg_btn,onClick:function(){o(s)},disabled:"on"!==t},"Send message")))},N=n(47),W=n.n(N),B={display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"primary.main",minHeight:"300px",flexGrow:1},D={display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"primary.main",minHeight:"300px",flexGrow:1,overflow:"auto"},F=function(){var e=b().lastMessage,t=m().counter;return c.a.createElement(l.a,{sx:B},c.a.createElement("label",{className:W.a.counter},"Message Counter: ",t),c.a.createElement(l.a,{sx:D},c.a.createElement("label",null,e)))},H=n(48),L=n.n(H),I=function(){return c.a.createElement(l.a,{width:"100%",sx:{height:"50px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",bgcolor:"primary.dark"}},c.a.createElement("h1",{className:L.a.header_text},"WS message counter"))};var P=function(){return c.a.createElement(h,null,c.a.createElement(v,null,c.a.createElement(k,null),c.a.createElement(l.a,{maxWidth:"md",sx:O},c.a.createElement(I,null),c.a.createElement(M,null),c.a.createElement(F,null))))},T=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,69)).then(function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)})};n(56);r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(P,null))),T()}},[[36,3,2]]]);
//# sourceMappingURL=main.cb63f286.chunk.js.map